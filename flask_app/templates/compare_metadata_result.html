{% extends "base.html" %}

{% block title %}Compare Metadata Analysis{% endblock %}

{% block content %}
<div class="container">
    <h1>Compare Metadata & Keyword Analysis</h1>

    <!-- Metadata for Site 1 -->
    {% if results.site1.metadata %}
        <h2>Website 1 Metadata</h2>
        <table>
            {% for key, value in results.site1.metadata.items() %}
                <tr><td>{{ key }}</td><td>{{ value }}</td></tr>
            {% endfor %}
        </table>
    {% endif %}

    <!-- Keyword Analysis for Site 1 -->
    {% if results.site1.keyword_data %}
        <h3>Website 1 Keyword Analysis</h3>
        <table>
            <thead>
                <tr>
                    <th>Keyword</th>
                    <th>Count</th>
                    <th>Density (%)</th>
                </tr>
            </thead>
            <tbody>
                {% for keyword, data in results.site1.keyword_data.items() %}
                    <tr>
                        <td>{{ keyword }}</td>
                        <td>{{ data.count }}</td>
                        <td>{{ data.density }}%</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>No keyword analysis available for Website 1.</p>
    {% endif %}

    <hr>

    <!-- Metadata for Site 2 -->
    {% if results.site2.metadata %}
        <h2>Website 2 Metadata</h2>
        <table>
            {% for key, value in results.site2.metadata.items() %}
                <tr><td>{{ key }}</td><td>{{ value }}</td></tr>
            {% endfor %}
        </table>
    {% endif %}

    <!-- Keyword Analysis for Site 2 -->
    {% if results.site2.keyword_data %}
        <h3>Website 2 Keyword Analysis</h3>
        <table>
            <thead>
                <tr>
                    <th>Keyword</th>
                    <th>Count</th>
                    <th>Density (%)</th>
                </tr>
            </thead>
            <tbody>
                {% for keyword, data in results.site2.keyword_data.items() %}
                    <tr>
                        <td>{{ keyword }}</td>
                        <td>{{ data.count }}</td>
                        <td>{{ data.density }}%</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>No keyword analysis available for Website 2.</p>
    {% endif %}

</div>

<!-- Recommendations Section -->
<section>
    <h1>Recommendations Based on Comparison</h1>

    {% if error %}
        <p style="color:red;">{{ error }}</p>
    {% else %}
        <section class="acquisition-section">
            <h2>AI Recommendations</h2>
            <p>{{ recommendations | safe }}</p>
        </section>
    {% endif %}
</section>

<footer>
    <div class="footer-container">
        <a href="#about">About Us</a>
        <a href="#privacy">Privacy Policy</a>
        <a href="#terms">Terms of Service</a>
        <a href="#contact">Contact Info</a>
    </div>
</footer>

{% endblock %}
